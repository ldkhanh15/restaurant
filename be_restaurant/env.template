# Backend Restaurant API - Environment Variables Template
# Copy this file to .env (development) or set in Render Dashboard (production)

# ============================================
# Server Configuration
# ============================================
# Options: development, production, test
NODE_ENV=development
PORT=8080

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins, or * for all
CORS_ORIGIN=*

# ============================================
# Database Configuration (MySQL)
# ============================================
# Development: Use local MySQL
# Production: Use Render PostgreSQL or external MySQL
DB_HOST=localhost
DB_PORT=3306
DB_NAME=restaurant_db
DB_USER=root
DB_PASSWORD=your-database-password

# For Render PostgreSQL (production):
# DB_HOST=your-db-host.onrender.com
# DB_PORT=5432
# DB_NAME=restaurant_db
# DB_USER=restaurant_user
# DB_PASSWORD=your-secure-password

# Database Connection Pool
DB_POOL_MAX=5
DB_POOL_MIN=0
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# ============================================
# JWT Authentication
# ============================================
# ⚠️ IMPORTANT: Change this to a strong random string in production!
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d

# ============================================
# Cloudinary (Image Upload)
# ============================================
# Get these from: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your-cloudinary-name
CLOUDINARY_API_KEY=your-cloudinary-key
CLOUDINARY_API_SECRET=your-cloudinary-secret

# ============================================
# VNPay Payment Gateway
# ============================================
# Development: Use sandbox
# Production: Use production VNPay credentials
VNP_TMN_CODE=your-vnpay-tmn-code
VNP_HASH_SECRET=your-vnpay-hash-secret
VNP_URL=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
# Production: https://www.vnpayment.vn/paymentv2/vpcpay.html

# Return URLs (will be constructed from CLIENT_URL if not set)
VNP_RETURN_URL=
VNP_RETURN_URL_APP_USER=
# Specific return URLs for order and reservation (optional)
VNP_RETURN_URL_ORDER=
VNP_RETURN_URL_RESERVATION=
# Dev-only override (for ngrok testing)
VNP_DEV_RETURN_OVERRIDE=

# Frontend URLs (for CORS and return URLs)
# Main frontend URL
# Development: http://localhost:3000
# Production: https://your-user-web.vercel.app
CLIENT_URL=http://localhost:3000

# Separate URLs for admin and user frontends (optional)
CLIENT_ADMIN_URL=http://localhost:8081
CLIENT_USER_URL=http://localhost:3000

# Mobile app deep link scheme (optional)
# Example: restaurantapp:// or https://app.restaurant.com
CLIENT_APP_SCHEME=

# ============================================
# Chatbot URL
# ============================================
# Development: Use local chatbot
# Production: Use deployed chatbot URL (e.g., https://your-chatbot.onrender.com)
CHATBOT_URL=http://localhost:7860/api
CHATBOT_TIMEOUT=10000

# ============================================
# Upload Configuration
# ============================================
UPLOAD_DIR=uploads/
UPLOAD_MAX_SIZE=5242880

# ============================================
# Business Logic Configuration
# ============================================
# Default reservation timeout in minutes
RESERVATION_TIMEOUT_MINUTES=15

# ============================================
# Debug Options
# ============================================
# Set to true to log SQL queries (development only)
DEBUG_SQL=false

